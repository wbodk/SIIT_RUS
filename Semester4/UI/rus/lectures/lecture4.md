XML схема Лекция 4 

Введение:

Типы   XML документов 

* Тип XML документа представляет собой набор XML документова с сходными свойствами. 

* Тип XML документа определяется словарем (набором элементов и атрибутов) и грамматикой (набором правил для структурирования документа из элементов и атрибутов). 

* Для определения типов XML документов могут использоваться различные языки, такие как DTD и XML Schema.

DTD

* Document Type Definition (DTD) является частью стандарта XML, используемого для определения типов XML документов. 

* DTD позволяет объявлять элементы, (списки) атрибутов, сущностей, нотаций и так далее. 

* У DTD есть множество недостатков (несовместимый с XML синтаксис, отсутствие поддержки пространств имен, отсутствие типизации данных и т. д.).

XML Схема

* XML Schema является стандартом, используемым для определения типов XML документов. 

* Он преодолевает некоторые недостатки DTD (XML-синтаксис, поддержка пространств имен, типизация данных и т. д.). 

* Вводится набор стандартизированных простых типов данных и моделей содержимого.

Схема стандартизаируется кучей всяких стандартов, основные их них можно посмотреть:

XML Schema Part 1: Structures (https://www.w3.org/TR/xmlschema-1/) и XML Schema Part 2: Datatypes (https://www.w3.org/TR/xmlschema-2/)

Пример XML схемы: 

![[img/Screenshot 2024-03-21 at 09.17.17.png]]

Компоненты XML

Декларация атрибутов
Декларация элементов
Определение простых типов данных
Определение сложных типов данных и так далее.

![[img/Screenshot 2024-03-21 at 09.19.26.png]]


![[img/Screenshot 2024-03-21 at 09.19.52.png]]

![[img/Screenshot 2024-03-21 at 09.20.10.png]]

![[img/Screenshot 2024-03-21 at 09.20.31.png]]

 Елементы делять на два типа:

Глобальные элемент

Локальный элемент

![[img/Screenshot 2024-03-21 at 10.02.52.png]]

![[img/Screenshot 2024-03-21 at 10.03.13.png]]

![[img/Screenshot 2024-03-21 at 10.03.35.png]]

![[img/Screenshot 2024-03-21 at 10.03.55.png]]

Секвенца - последовательность 

Избор - выбор 

Группа - набор 

Смешанное содержимое - содержит элементы и текст в произвольном порядке
![[img/Screenshot 2024-03-21 at 10.05.58.png]]

![[img/Screenshot 2024-03-21 at 10.06.20.png]]

![[img/Screenshot 2024-03-21 at 10.06.38.png]]

![[img/Screenshot 2024-03-21 at 10.06.52.png]]

Уграђени типови података - это предопределенные типы данных, которые являются частью языка программирования или стандарта, и не требуют дополнительного объявления или определения. Эти типы данных обычно включают в себя целые числа, дробные числа, символы, строки и т. д.

![[img/Screenshot 2024-03-21 at 10.07.59.png]]

Тип

Именованные типы - это типы данных, которые имеют явное имя или метку, которая используется для ссылки на них в программе или схеме данных.

Анонимные типы - это типы данных, которые не имеют явного имени или метки, и обычно используются только в контексте, где они определены. Они не могут быть повторно использованы или ссылаться на них в других частях программы или схемы.

![[img/Screenshot 2024-03-21 at 10.09.42.png]]

![[img/Screenshot 2024-03-21 at 10.09.59.png]]

* Простые типы (не содержащие элементов и атрибутов) - это типы данных, которые представляют собой простые значения, такие как целые числа, дробные числа, строки и логические значения.

* Сложные типы (содержащие элементы или атрибуты) - это типы данных, которые состоят из структуры или комбинации различных типов данных, включая вложенные элементы и атрибуты. Например, сложные типы могут представлять объекты, записи или структуры данных.

Элементы могу состоять как из простых и сложных типов

Элменеты могут состоять только из простых типов

![[img/Screenshot 2024-03-21 at 10.12.18.png]]

![[img/Screenshot 2024-03-21 at 10.12.43.png]]

![[img/Screenshot 2024-03-21 at 10.12.57.png]]

Механизмы выполнения простых типов данных обычно включают в себя следующие аспекты:

1. Операции и функции: Простые типы данных могут поддерживать стандартные операции, такие как сложение, вычитание, умножение и деление для чисел, а также операции для работы с текстом, такие как конкатенация или поиск. Кроме того, могут предоставляться функции для преобразования типов данных или выполнения специфических действий над ними.

2. Правила преобразования типов данных: Механизмы преобразования могут определять, как различные типы данных могут быть преобразованы друг в друга, например, целые числа во фракционные, строки в числа и т. д.

3. Поддержка для стандартных типовых операций: Простые типы данных часто предоставляют стандартные операции, такие как сравнение, упорядочение и проверка равенства.

4. Обработка ошибок и исключений: Механизмы могут включать в себя обработку ошибок и исключений, связанных с операциями или преобразованиями, которые могут возникнуть при работе с простыми типами данных.

Эти механизмы обеспечивают эффективную работу с простыми типами данных в рамках программ или систем, где они используются.
![[img/Screenshot 2024-03-21 at 10.22.14.png]]

![[img/Screenshot 2024-03-21 at 10.22.32.png]]

![[img/Screenshot 2024-03-21 at 10.22.58.png]]

![[img/Screenshot 2024-03-21 at 10.23.13.png]]

![[img/Screenshot 2024-03-21 at 10.23.32.png]]

![[img/Screenshot 2024-03-21 at 10.23.46.png]]

![[img/Screenshot 2024-03-21 at 10.24.00.png]]

![[img/Screenshot 2024-03-21 at 10.24.21.png]]

Механизмы выполнения сложных типов данных включают в себя следующие аспекты:

1. Структуры данных: Позволяют определять сложные типы данных, состоящие из различных компонентов, таких как другие типы данных, переменные и т. д. Эти компоненты могут быть объединены в рамках одного объекта или структуры.

2. Методы и функции: Позволяют определять действия или операции, которые могут выполняться с данными сложных типов. Эти методы и функции могут быть определены внутри структур данных и обрабатывать их компоненты.

3. Наследование и полиморфизм: Позволяют создавать иерархии сложных типов данных, где один тип может наследовать свойства и методы другого типа. Это позволяет создавать более абстрактные и гибкие структуры данных.

4. Инкапсуляция: Позволяет скрывать детали реализации сложных типов данных и предоставлять только интерфейс для их взаимодействия с внешним миром. Это способствует созданию более надежных и модульных программных компонентов.

Эти механизмы позволяют эффективно работать с сложными структурами данных и обеспечивают их управление и использование в программах и системах.

![[img/Screenshot 2024-03-21 at 10.25.35.png]]

![[img/Screenshot 2024-03-21 at 10.25.51.png]]

Конфликты имен

* Имена компонентов в XML Schema находятся в пространстве символов (symbol space).
* Существуют отдельные пространства символов для определений типов, объявлений элементов и объявлений атрибутов с одной стороны, и глобальных компонентов XML Schema и каждого определенного типа с другой стороны.
* Одно и то же имя может находиться в различных пространствах символов, но не может находиться в одном и том же пространстве символов.

![[img/Screenshot 2024-03-21 at 10.41.24.png]]



Заключение:

XML схема

Декларация атрибута - Определяет атрибуты, которые могут присутствовать у элементов XML.

Декларация элементов - Определяет структуру и иерархию элементов XML, включая их имена и типы данных.

Модели содержания - Определяют, как элементы могут быть организованы в документе XML, включая последовательности, выборы и группы.

Глобальные элементы - Элементы, которые могут быть использованы в любом месте в XML-документе и объявлены в верхнем уровне схемы.

Локальные элементы - Элементы, которые объявлены внутри других элементов и могут быть использованы только в их контексте.

Встроенные типы - Предопределенные типы данных, такие как строки, числа и логические значения, которые могут быть использованы для определения типов элементов и атрибутов.

Именованные типы - Это типы данных, которые имеют явное имя или метку и могут быть использованы для ссылок в других частях схемы или документа.

Анонимные типы - Это типы данных, которые не имеют явного имени или метки и используются только в месте их определения.

Дефиниция простых типов - Определяет простые типы данных, такие как строки, числа, даты и другие, без использования других типов данных.

Механизмы выполнения простых типов - Включают в себя операции и функции, которые могут выполняться с простыми типами данных, а также правила преобразования между различными типами данных.

Дефиниция сложных типов - Определяет типы данных, состоящие из комбинации других типов данных или структур данных.

Механизмы выполнения сложных типов - Включают в себя структуры данных, методы и функции для работы с ними, наследование и другие концепции, позволяющие эффективно управлять сложными типами данных.

Конфликт имен - Это ситуация, когда одно и то же имя используется для различных компонентов в схеме или документе, что может привести к неоднозначности и ошибкам при интерпретации.

Пространство символов - Это область, в которой определены имена компонентов схемы, такие как типы данных, элементы и атрибуты, чтобы избежать конфликтов имен при разработке схемы.

Книги:

Fawcett, J., Ayers, D. and Quin, L.R.E. (2012) ”Beginning XML”. Hoboken, NJ, USA: Wiley.

Chapter 5: XML Schemas

XML Schema Part 1: Structures (https://www.w3.org/TR/xmlschema-1/)

XML Schema Part 2: Datatypes (https://www.w3.org/TR/xmlschema-2/)
