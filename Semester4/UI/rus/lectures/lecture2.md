JSON

 Введение:

JavaScript Object Notation (JSON) это один из форматов представления информации, основанный на абстрактной модели (упорядоченных) пар ключ/значение.

* JSON (JavaScript Object Notation) - это текстовый формат для сериализации состояния объектов. 

* Он предназначен для передачи и хранения структурированных данных, в основном между веб-приложениями и веб-серверами или в NoSQL базах данных. 

* JSON описан как часть стандарта JavaScript, но он также используется во многих других языках программирования.
```json
{
  "item": "postcard",
  "qty": 45,
  "size": {
    "h": 10,
    "w": 15.25,
    "uom": "cm"
  },
  "status": "A"
}
```

* Однообразность при автоматической обработке

* Легко писать программы для обработки JSON документов 

* Концизан

* Читаемость и самопонимание не важны
  * Технологии для обработки JSON документов (обычно) не стандартизированы



* Идентичность объекта 

* Состояние объекта (атрибуты) 

* Поведение объекта (методы)



JSON значения:

Название - Описание
string - Низ символов " text "
number - Броj (нет различия между целыми и десятичными числами) - 5 17.0
boolean - Правда или ложь true / false
object - Объект 
Array - Массив значений
Null Пустое значение

JSON использует стандарт Unicode.

Unicode - это стандарт для кодирования и управления текстом, который включает более 120 000 символов из 129 языков. 

Символы могут быть закодированы различными способами (UTF-8, UTF-16 или UTF-32).

Специальные знаки:

Символ
Описание
\" Двойные кавычки
\\ Обратная косая черта
\/ Косая черта
\b Backspace (возврат на один символ)
\f Form feed (перевод формата) 

\n new line

\r возврат карретки

\t tab

\u Unicode кода знака

* Объект - это набор упорядоченных пар ключ/значение.

*  Он начинается с открывающей фигурной скобки и заканчивается закрывающей фигурной скобкой, упорядоченные пары разделяются запятыми, а ключ и значение разделяются двоеточием. 

* Ключи являются строками. 

* Значения могут быть простыми значениями, объектами или массивами.

```
  {

  "key1" : 1,

  "key2" : "text",

  "key3": false

  }
```

  * Строка - это упорядоченное множество значений. 

  * Она начинается с открывающей квадратной скобки и заканчивается закрывающей квадратной скобкой, а значения разделяются запятыми. 

  * Значения могут быть как объектами, так и массивами.

```
    [1, "text", false]
```

Пробельные символы (англ. whitespaces) могут находиться между любыми двумя токенами.





MongoDB Query API

* MongoDB - это открытая NoSQL база данных, ориентированная на документы. 

* Она хранит данные в виде (бинарных) JSON документов и позволяет выполнять запросы над (коллекцией) документов. 

* MongoDB также имеет (опциональную) поддержку JSON Schema.

* MongoDB Query API представляет собой API для выполнения запросов к коллекции (бинарных) JSON документов, хранящихся в базе данных MongoDB. 

* Реализация доступна на различных языках программирования и платформах, таких как Python, PHP, Ruby, Node.js, C++, Scala, JavaScript и др.

Пример JSON: 

```python
db.inventory.insert_many([
    {},
    {
        "item": "journal",
        "qty": 25,
        "size": {"h": 14, "w": 21, "uom": "cm"},
        "status": "A"
    },
    {
        "item": "notebook",
        "qty": 50,
        "size": {"h": 8.5, "w": 11, "uom": "in"},
        "status": "A"
    },
    {
        "item": "paper",
        "qty": 100,
        "size": {"h": 8.5, "w": 11, "uom": "in"},
        "status": "D"
    },
    {
        "item": "planner",
        "qty": 75,
        "size": {"h": 22.85, "w": 30, "uom": "cm"},
        "status": "D"
    },
    {
        "item": "postcard",
        "qty": 45,
        "size": {"h": 10, "w": 15.25, "uom": "cm"},
        "status": "A"
    }
])
```



Запрос поиска: cursor = db. inventory . find ({ запрос поиска})

Пример:  cursor = db.inventory.find({"status": "D"})

Ответ: 

```python
db.inventory.insert_many([
    {
        "item": "paper",
        "qty": 100,
        "size": {"h": 8.5, "w": 11, "uom": "in"},
        "status": "D"
    },
    {
        "item": "planner",
        "qty": 75,
        "size": {"h": 22.85, "w": 30, "uom": "cm"},
        "status": "D"
    }
])
```

Реляционные операторы

$eq - равно
$gt - больше
$gte - больше или равно
$in - в (массиве)
$lt - меньше
$lte - меньше или равно
$ne - не равно
$nin - не в (массиве)

$and - и
$not - не
$nor - ни
$or - или

![[img/Screenshot 2024-03-21 at 08.56.18.png]]

![[img/Screenshot 2024-03-21 at 08.56.44.png]]





![[img/Screenshot 2024-03-21 at 08.57.01.png]]

![[img/Screenshot 2024-03-21 at 08.57.22.png]]

![[img/Screenshot 2024-03-21 at 08.57.44.png]]

![[img/Screenshot 2024-03-21 at 08.58.02.png]]

![[img/Screenshot 2024-03-21 at 08.58.26.png]]

![[img/Screenshot 2024-03-21 at 08.58.41.png]]

![[img/Screenshot 2024-03-21 at 08.59.18.png]]

![[img/Screenshot 2024-03-21 at 08.59.42.png]]

![[img/Screenshot 2024-03-21 at 09.00.05.png]]

![[img/Screenshot 2024-03-21 at 09.00.31.png]]

и тд



JSON Схема

* Пустой документ ("{}") соответствует любому документу.
* Ограничения на структуру экземпляра JSON Schema определяются валидационными ключевыми словами.

 Ключ Описание 

$schema - Версия стандарта 

JSON Schema 

$id - URI схемы 

title - Название схемы 

description - Описание схемы 

type - Тип ограничения («null», «boolean», «object», «array», «number» или «string») 

properties - Определяет ключи, типы значений и различные ограничения над значениями

required - Обязательные свойства (как массив)
minimum - Минимальное значение
exclusiveMinimum - true или false в зависимости от того, исключается ли минимальное значение из диапазона или включено в него
maximum - Максимальное значение
exclusiveMaximum - true или false в зависимости от того, исключается ли максимальное значение из диапазона или включено в него

maxLength - Максимальная длина строки
minLength - Минимальная длина строки
pattern - Регулярное выражение, определяющее допустимые значения

Окончание:

JSON, https://www.json.org/

MongoDB Query API, https://www.mongodb.com/mongodb-query-api/

JSON Schema, https://json-schema.org/

